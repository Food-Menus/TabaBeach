<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Taba Beach - Ù…Ù†ÙŠÙˆ Ø§Ù„Ø·Ø¹Ø§Ù…</title>
    <link rel="icon" href="./statics/logoooo.png" type="image/x-icon">
    <link rel="stylesheet" href="style.css">
    
    <style>
        .pricing-section { padding: 40px 5%; flex: 1; }
        .page-title {
            background: rgba(71, 71, 71, 0.48);
            color: white;
            padding: 30px;
            border-radius: 20px;
            margin-bottom: 40px;
            border: 2px solid var(--main-gold);
            backdrop-filter: blur(5px);
            text-align: center;
        }

        .category-container { max-width: 800px; margin: 0 auto; }

        .category-card {
            background: rgba(255, 255, 255, 0.95);
            margin-bottom: 30px;
            border-radius: 20px;
            box-shadow: 0 10px 25px rgba(0,0,0,0.2);
            border-right: 6px solid var(--main-gold);
            padding: 25px;
            display: none; /* Ù…Ø®ÙÙŠ Ù„Ø­Ø¯ Ù…Ø§ Ø§Ù„Ø¯Ø§ØªØ§ ØªØ­Ù…Ù„ */
        }

        .category-info h2 {
            color: #023e8a;
            margin-bottom: 20px;
            border-bottom: 2px solid var(--main-gold);
            display: inline-block;
            padding-bottom: 5px;
        }

        .price-item {
            display: flex;
            justify-content: space-between;
            padding: 12px 0;
            border-bottom: 1px dashed #ccc;
        }
        .btn-green1 {
            background: var(--main-green1);
            padding: 10px 25px;
            border-radius: 8px;
            text-decoration: none;
            color: white;
            font-weight: bold;
        }
        .item-name { color: #333; font-weight: bold; font-size: 1.1rem; }
        .item-price { color: var(--main-green); font-weight: bold; font-size: 1.1rem; }

        .loader { text-align: center; color: var(--main-gold); font-weight: bold; padding: 20px; }
    </style>
</head>

<body>

    <header>
        <div class="logo-container">
            <div class="logo-box"><img src="./statics/logoooo.png" alt="Logo" style="width: 100%;"></div>
            <div class="site-name">Taba Beach</div>
        </div>
        <nav>
            <input type="checkbox" id="check"><label for="check" class="checkbtn">â˜°</label>
            <ul>
                <li><a href="index.html">Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠØ©</a></li>
                <li><a href="contact.html">ØªÙˆØ§ØµÙ„ Ù…Ø¹Ù†Ø§</a></li>
                <li><a href="pricing.html">Ø§Ù„Ø£Ø³Ø¹Ø§Ø±</a></li>
            </ul>
        </nav>
    </header>

    <div class="pricing-section">
        <div class="page-title">
            <h1>Ù‚Ø§Ø¦Ù…Ø© Ø§Ù„Ø·Ø¹Ø§Ù… </h1><br>
            <p>Ø£Ø´Ù‡Ù‰ Ø§Ù„Ù…Ø£ÙƒÙˆÙ„Ø§Øª ÙÙŠ Ø·Ø§Ø¨Ø§ Ø¨ÙŠØªØ´</p>
        </div>

        <div class="category-container">
            <div id="section-grilled" class="category-card">
                <div class="category-info">
                    <h2>ğŸ”¥ Ø±ÙƒÙ† Ø§Ù„Ù…Ø´ÙˆÙŠØ§Øª</h2>
                    <div id="list-grilled" class="price-list"></div>
                </div>
            </div>

            <div id="section-crepe" class="category-card">
                <div class="category-info">
                    <h2>ğŸŒ¯ Ø±ÙƒÙ† Ø§Ù„ÙƒØ±ÙŠØ¨</h2>
                    <div id="list-crepe" class="price-list"></div>
                </div>
            </div>

            <div id="section-pizza" class="category-card">
                <div class="category-info">
                    <h2>ğŸ• Ø±ÙƒÙ† Ø§Ù„Ø¨ÙŠØªØ²Ø§</h2>
                    <div id="list-pizza" class="price-list"></div>
                </div>
            </div>

            <div id="main-loader" class="loader">Ø¬Ø§Ø±ÙŠ ØªØ­Ù…ÙŠÙ„ Ø§Ù„Ù…Ù†ÙŠÙˆ Ø§Ù„Ù„Ø°ÙŠØ°... âœ¨</div>
        </div>
    </div>

    <footer>
        <div style="text-align: center;">
        <a href="contact.html" class="btn btn-green1" style="background: var(--main-green1); flex: 1;"> ØªÙˆØ§ØµÙ„ Ù…Ø¹Ù†Ø§ </a><br><br><hr>
            <h5 class="footer-bottom"> &copy; 2026 Techno Science - Ø¬Ù…ÙŠØ¹ Ø§Ù„Ø­Ù‚ÙˆÙ‚ Ù…Ø­ÙÙˆØ¸Ø©</h5>
        </div>
    </footer>

    <script>
        // Ø¶Ø¹ Ù‡Ù†Ø§ Ø±ÙˆØ§Ø¨Ø· Ø§Ù„Ù€ CSV Ø§Ù„Ø®Ø§ØµØ© Ø¨ÙƒÙ„ Ø´ÙŠØª
        const sheets = {   
          grilled: 'https://docs.google.com/spreadsheets/d/1wDrehsg7ljS3rd1PxB9XcwSE5LR5pP6I2WisxFaO8-A/export?format=csv',
            crepe: 'https://docs.google.com/spreadsheets/d/1lDhhj4DG8g33s2s9I9xlgf0vgP-Y7oqyLDZdnMHckEo/export?format=csv',
            pizza: 'https://docs.google.com/spreadsheets/d/1u5FVWE9Jl7M-bgJ9fEGVG0WW0RLLGZZTZx2JDY35OeM/export?format=csv'
        };

        async function fetchAndRender(url, listId, sectionId) {
            try {
                const response = await fetch(url);
                if (!response.ok) return;
                const data = await response.text();
                const rows = data.split('\n').map(row => row.trim()).filter(row => row.length > 0).slice(1);

                const listContainer = document.getElementById(listId);
                const sectionContainer = document.getElementById(sectionId);
                
                let html = '';
                rows.forEach(row => {
                    const columns = row.split(/,(?=(?:(?:[^"]*"){2})*[^"]*$)/);
                    if (columns.length >= 2) {
                        const type = columns[0].replace(/"/g, '').trim();
                        const price = columns[1].replace(/"/g, '').trim();
                        html += `
                            <div class="price-item">
                                <span class="item-name">${type}</span>
                                <span class="item-price">${price} Ø¬.Ù…</span>
                            </div>`;
                    }
                });

                if (html !== '') {
                    listContainer.innerHTML = html;
                    sectionContainer.style.display = 'block'; // Ø§Ø¸Ù‡Ø± Ø§Ù„ÙƒØ§Ø±Øª Ù„Ù…Ø§ ÙŠØ­Ù…Ù„
                }
            } catch (e) {
                console.error("Error loading section: " + sectionId, e);
            }
        }

        async function initMenu() {
            // ØªØ­Ù…ÙŠÙ„ Ø§Ù„ÙƒÙ„ ÙÙŠ Ù†ÙØ³ Ø§Ù„ÙˆÙ‚Øª
            await Promise.all([
                fetchAndRender(sheets.grilled, 'list-grilled', 'section-grilled'),
                fetchAndRender(sheets.crepe, 'list-crepe', 'section-crepe'),
                fetchAndRender(sheets.pizza, 'list-pizza', 'section-pizza')
            ]);
            
            // Ø§Ø®ÙØ§Ø¡ Ø§Ù„Ù„ÙˆØ¯Ø± Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠ Ø¨Ø¹Ø¯ Ø§Ù„Ø§Ù†ØªÙ‡Ø§Ø¡
            document.getElementById('main-loader').style.display = 'none';
        }

        initMenu();
    </script>
</body>
</html>